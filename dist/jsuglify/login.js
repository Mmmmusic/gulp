var ema=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,phone=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/,users=/^[a-zA-Z0-9_]{4,15}$/,user=document.getElementById("user"),pwd=document.getElementById("pwd"),flag=!1;user.oninput=function(){flag=0!=user.value.length&&0!=pwd.value.length?($(".login").css({opacity:1}),!0):($(".login").css({opacity:.6}),!1)},pwd.oninput=function(){flag=0!=user.value.length&&0!=pwd.value.length?($(".login").css({opacity:1}),!0):($(".login").css({opacity:.6}),!1)},flag=0!=user.value.length&&0!=pwd.value.length?($(".login").css({opacity:1}),!0):($(".login").css({opacity:.6}),!1),$(".login").tap(function(){if(flag)if(user.value.length<6)console.log("用户名最少为六位字符");else if((ema.test(user.value)||phone.test(user.value)||users.test(user.value))&&""!=user.value)if(console.log("用户名前端验证完毕"),pwd.value.length<6)console.log("密码最少为6位字符");else{console.log("密码前端验证完毕");var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&200===e.status&&("no"==e.responseText?(alert("登录成功"),window.location.href="userCenter.html"):alert("用户名或密码错误"))},e.open("GET","php/login.php?username="+user.value+"&password="+pwd.value,!0),e.send()}else console.log("格式不正确")});